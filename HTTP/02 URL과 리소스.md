# 02. URL과 리소스

## 2.1 인터넷의 리소스 탐색하기

분류하기 위해 표준화된 인터넷의 리소스를 가리키는 이름 URL

URL은 애플리케이션이 리소스에 접근할 수 있는 방법을 가리킨다.

- URI = URL + URN

## 2.2 URL 문법

URL의 가장 중요한 3가지 컴포넌트

- 스킴: 리소스를 가져오려면 어떤 프로토콜을 사용하여 서버에 접근해야하는지 가리킨다.
- 호스트: 리소스를 호스팅하는 서버의 호스트명이나 ip 주소
- 경로: 이전 컴포넌트와 빗금(/)으로 구분되어 있으며, 서버 내 리소스가 서버 어디에 있는지 위치를 가리킨다.

### 2.2.1 스킴: 사용할 프로토콜

스킴은 주어진 리소스에 어떻게 접근하는지 알려주는 중요한 정보이다. 이는 URL을 해석하는 애플리케이션이 어떤 프로토콜을 사용하여 리소스를 요청해야하는지 알려준다.

### 2.2.2 호스트와 포트

애플리케이션이 인터넷에 있는 리소스를 찾으려면, 리소스를 호스팅하고 있는 장비와 그 장비 내에서 리소스에 접근할 수 있는 서버가 어디에 있는지 알아야 한다. 호스트 컴포넌트는 접근하려고 하는 리소스를 가지고 있는 인터넷상의 호스트 장비를 가리킨다.

### 2.2.3 사용자 이름과 비밀번호

FTP 서버같은 경우 자신이 가지고 있는 데이터에 접근을 허용하기 전, 사용자 이름과 비밀번호를 요구한다. 사용자 이름과 비밀번호를 기술하지 않고 FRP URL에 접근하면 기본 사용자 이름 값으로 'anonymous'가, 비밀번호는 브라우저마다 가지고 있는 기본값을 사용한다.

### 2.2.4 경로

URL 경로 컴포넌트는 리소스가 서버의 어디에 있는지 알려준다. 이 경로는 유닉스 파일 시스템 경로와 유사하며 '/' 문자를 기준으로 경로 조각으로 나뉜다.

### 2.2.5 파라미터

경로 정보만으로 리소스를 찾지 못하므로 어떤 포트를 열어놓고 있는지 리소스에 접근하기 위해 사용자 이름과 비밀번호를 명시했는지 여부 외에도 많은 프로토콜이 정보를 요구한다.

URL을 사용하는 애플리케이션이 리소스에 접근하려면 프로토콜 파라미터가 필요하며 URL의 파라미터 컴포넌트는 애플리케이션이 서버에 정확한 요청을 하기위해 필요한 입력 파라미터를 받는데 사용한다.

- 이 컴포넌트는 이름/값 쌍의 리스트로 URL 나머지 부분으로부터 ';'문자로 구분하여 URL에 기술한다.

### 2.2.6 질의 문자열

요청받을 리소스 형식의 범위를 좁히기 위해서 질문이나 질의를 받을 수 있다.

### 2.2.7 프래그 먼트

리소스의 특정 부분을 본래의 수준보다 더 작게 나뉠 수 있다.
프래그먼트는 URL의 오른쪽에 #문자에 이어서 온다. 일반적은로 HTTP 서버는 객체 일부가 아닌 전체만 다루기 때문에 클라이언트는 서버에 프래그 먼트를 전달하지 않고, 브라우저가 서버로부터 전체 리소스를 내려받은 후, 프래그먼트를 사용하여 당신이 보고자 하는 리소스의 일부를 보여준다.

## 2.3 단축 URL

### 2.3.1 상대URL

상대URL으로 리소스에 접근하는데 필요한 모든 정보를 얻기 위해서는 기저(base)라고 하는 다른 url을 사용해야 한다.

### 2.3.2 절대 URL

기저 URL은 상대URL의 기준이 된다.

- 리소스에서 명시적으로 제공
  - 리소스중에 기저URL을 명확하게 기술하여, HTML 문서에서는 그 안에 있는 모든 상대 URL을 변경하기 위해 HTML태그를 기술할수 있다.
- 리소스를 포함하고 있는 기저 URL
  - 기저 URL이 명시되어 있지 않은 리소스에 포함된 경우, 해당 리소스의 URL을 기저 URL을 쓸 수 있다.
- 기저 URL이 없는 경우
  - 절대 URL만으로 이루어져 있다는 뜻이나, 불완전하거나 깨진 URL일수 있다.
- 상대 참조 해석
  - 상대 URL을 절대 URL로 변환하기 위한 다음 단계는 상대 URL과 기저 URL을 각각의 컴포넌트 조각으로 나누는 것이다.

### 2.3.3 URL 확장

- 호스트명 확장
  호스트 명 확장 기능을 지원하는 브라우저는 단순한 휴리스틱만 사용해서 입력한 호스트 명을 전체 호스트 명으로 확장할 수 있다.
- 히스토리 확장
  브라우저가 과거에 사용자가 방문했던 URL의 기륵으 저장해 놓는다. URL을 입력하면, 그 입력된 URL의 앞 글자들을 포함하는 완결된 형태의 URL들을 선택하게 해준다.

## 2.4. 안전하지 않은 문자

의미: 정보가 유실될 위험 없이 URL을 전송할 수 있다는 것을 의미한다.
이스케이프라는 기능을 추가하여 안전하지 않은 문자를 안전한 문자로 인코딩할 수 있다.

### 2.4.1 URL 문자 집합

US-ASCII는 문자를 서식화하고 하드웨어 상에서 신호를 주고받기 위해 7비트를 사용하여 영문 자판에 있는 키 대부분과 몇몇 출력되지 않는 제어 문자를 표현한다. 특정 이진 데이터를 포함해야 하는 경우도 있어 URL 설계자들은 URL에 이스케이프 문자열을 쓸수 있게 설계하였다.이는 US-ASCII에서 사용이 금지된 문자들로, 특정 문자나 데이터를 인코딩할 수 있게 함으로써 이동성과 완성도를 높였다.

### 2.4.2 인코딩 체계

인코딩은 안전하지 않은 문자를 퍼센테지 기호(%)로 시작해, ASCII 코드로 표현되는 두 개의 16진수 숫자로 이루어진 '이스케이프' 문자로 바꾼다.
Ref. URL 디코딩, 인코딩을 하려면 Convert String: https://convertstring.com/

### 2.4.3 문자제한

URL에서 예약된 문자를 본래의 목적이 아닌 다른 용도를 사용하려면 그 전에 반드시 인코딩해야 하는 문자들이다.

### 2.4.4 좀 더 알아보기

안전하지 않은 모든 문자를 인코딩하기만 하면 다른 애플리케이션으로부터 특별한 의미를 가지는 문자를 받았을 때 혼동할 걱정 없이 애플리케이션 간에 공유할 수 있는 URL의 원형을 유지할 수 있다.